2007-05-12  John J. Foerch  <jjfoerch@earthlink.net>

	* VERSION: 0.42.8

	* bindings.js (input_kmap_predicate): check type for submit and
	reset.

	* bindings.js: remove binding for switch-to-buffer-other-window.

	* bindings.js (init_numberedlinks_keys): remove
	numberedlinks-escape.  add numberedlinks-follow-other-frame and
	numberedlinks-save.

	* commands.js (gCurrentCommand): new global.

	* commands.js (interactive_methods): new methods: active_document,
	current_command, f (rewritten), F (rewritten), focused_link_url_s,
	image_url_o, link, minibuffer_exit, pref

	* commands.js: added `given_args' argument throughout interactive
	system.

	* commands.js (interactive_methods): `initVal's for minibuffer
	reading methods are now defined to be functions that recieve as an
	arg, all interactive values collected so far.

	* commands.js (exec_command): renamed to call_interactively.

	* commands.js (init_webjumps): added lucky, maps. fixed xulplanet.

	* commands.js (get_link_location): now takes element as argument
	instead of getting it by side-effect.

	* commands.js (copy_link_location, save_image, save_page,
	save_page_as_text, save_page_complete, source, reinit): rewrote to
	use interactive.

	* commands.js (save_link): removed.

	* commands.js (save_focused_link): new function and command.

	* commands.js (exit_minibuffer): now accepts interactive arg,
	exit.

	* conkeror.js (gPrefService): declare.

	* numberedlinks.js (gNumberedLinksPrefix): removed global.

	* numberedlinks.js (selectNumberedLink_*, selectNthLink,
	goto_numbered_link, closeNumberedLinkBar): removed.

	* numberedlinks.js (numberedlinks_do_link): rewrote to use
	interactive.

	* numberedlinks.js (numberedlinks_focus,
	numberedlinks_follow_other_buffer, numberedlinks_follow,
	numberedlinks_escape): removed functions. rewrote command defs.

	* url.js (onUrlKeyPress): replaced preventBubble call with
	stopPropagation.

	* utils.js (minibuffer): new field, `exit'.

	* utils.js (readKeyPress): replaced preventBubble call with
	stopPropagation.

	* utils.js (dumpln, load_rc): new functions.

	
	
2007-05-08  Shawn Betts  <sabetts@vcn.bc.ca>

	* bindings.js: bind minibuffer-accept-match to space

	* commands.js: new command minibuffer-accept-match.

2007-03-04  John J. Foerch  <jjfoerch@earthlink.net>

	* conkeror.xul: removed bubble-phase keypress handler.

	* conkeror.js: capture phase keypress handler.
	
2007-03-02  Shawn Betts  <sabetts@vcn.bc.ca>

	* commands.js: swap names of minibuffer_history_next and minibuffer_history_previous

	* bindings.js: bind C-l to renumber-links.

	* conkeror.js: create numbered links on DOMContentLoaded event.

	* commands.js: work with new numbering code

	* numberedlinks.js: use top level content to store numbered link
	start number. only number documents not already numbered. add
	in-progress numbering state. nl_document_observer only updates
	floater number locations.

2007-02-27  John J. Foerch  <jjfoerch@earthlink.net>

	* bindings.js (make_key): renamed to kbd.

	* bindings.js: changed all calls to make_key.

	* help.html: changed make_key to kbd.
	
2007-02-27  John J. Foerch  <jjfoerch@earthlink.net>

	* utils.js (minibuffer): new object replaces globals:
	gFocusedElement, gFocusedWindow, gReadFromMinibufferCallBack,
	gReadFromMinibufferAbortCallBack, gMiniBufferCompletions,
	gCurrentCompletion, gCurrentCompletions, gDefaultMatch,
	gAllowNonMatches, gHistoryPoint, and gHistoryArray.

	* utils.js (init_minibuffer): new function.

	* conkeror.js (delayedStartup): call init_minibuffer.

	* utils.js, commands.js: implemented minibuffer object.
	
	* find.js, numberedlinks.js, bindings.js, url.js: implemented
	minibuffer object.

	* bindings.js (init_minibuffer_keys): binding for backspace.

	* commands.js (interactive_methods): implemented method `b'.

	* commands.js (switch_to_buffer): use interactive method `b'.

	* commands.js (kill_browser): renamed to kill_buffer, and use
	interactive method `b'.

	* commands.js (minibuffer_complete): implement new completion.

	* commands.js (minibuffer_complete_reverse): implement new
	completion.

	* commands.js (minibuffer_change): new command for completion.

	* commands.js (minibuffer_backspace): new command for completion.

	* conkeror.xul (input-field): added oninput event.

	* utils.js (readFromMiniBuffer): implemented new completion.

	* utils.js (readKeyPress): a binding can now have both a
	fallthrough and a command.
	
2007-02-27  John J. Foerch  <jjfoerch@earthlink.net>

	* commands.js (conkeror-version): new command
	
2007-02-27  John J. Foerch  <jjfoerch@earthlink.net>

	* bindings.js: rename goto-numbered-image to
	copy-numbered-image-location

	* commands.js: rename interactive to do_interactive, and rewrote
	it to support asynchronous interaction, and `interactive_methods'
	structure.  rename add_command to interactive, and place
	interactive calls next to the function that each is relevant to.
	removed init_commands.  added interactive method, `image'.
	rewrote exec_command to support asynchronous interactivity.
	updated the args of many commands to new style.  new command
	save-image (save_image).

	* conkeror.js: removed call to init_commands

	* conkeror.xul: swap order of numberedlinks.js and commands.js.

	* numberedlinks.js: remove variable gOnlyImages.  update args of
	commands.  rename goto_numbered_image to
	copy_numbered_image_location, and rewrote.  removed image
	capabilities from selectNumberedLink.  renamed matchLink to
	get_numberedlink_in_document and rewrote to move out side-effect
	code.  new function get_numberedlink.  rewrote
	numberedlinks_do_link to perform side-effects formerly in
	matchLink.

2007-02-22  Shawn Betts  <sabetts@shitbender.gagrod>

	* conkeror.js: add conkeror_version 

2007-02-13  Shawn Betts  <sabetts@vcn.bc.ca>

	* utils.js: restructure minibuffer key events

	* numberedlinks.js: use readFromMiniBuffer. function renaming.

	* commands.js: add minibuffer and isearch commands and
	corresponding functions. Use readFromMiniBuffer.

	* bindings.js: add context maps. keymap restructuring. All callers updated.

2007-01-26  Shawn Betts  <sabetts@vcn.bc.ca>

	* Release 0.42
	
2007-01-26  Shawn Betts  <sabetts@vcn.bc.ca>

	* numberedlinks.js: click the image if a link has an image in it.

2007-01-23  Shawn Betts  <sabetts@vcn.bc.ca>

	* Release 0.41
	
2007-01-23  Shawn Betts  <sabetts@vcn.bc.ca>

	* conkeror.js: remove keypress listener on the window.

2006-12-15  Shawn Betts  <sabetts@vcn.bc.ca>

	* Release 0.40
	
2006-12-15  Shawn Betts  <sabetts@vcn.bc.ca>

	* bindings.js: fix next/prev word bindings in textarea_map

	* utils.js: Support code for url downloading

	* conkeror.js (delayedStartup): set the default directory

	* commands.js: new commands save-page, save-page-as-text, save-page-complete. fixed save-link.

2006-12-01  Shawn Betts  <sabetts@shitbender.gagrod>

	* commands.js (open_url_in): return the browser

2006-11-30  Shawn Betts  <sabetts@shitbender.gagrod>
	
	* Release 0.39

2006-11-30  Shawn Betts  <sabetts@shitbender.gagrod>

	* conkeror.xul: listen for keypresses on the window

2006-11-26  Shawn Betts  <sabetts@vcn.bc.ca>

	* Release 0.38

2006-11-26  Shawn Betts  <sabetts@vcn.bc.ca>

	* utils.js: use the input keymap for any input that isn't a radio or checkbox

	* bindings.js: create a numberedlinks_kmap and bind numberedlinks
	function to it.

	* numberedlinks.js: check numberedlinks_kmap for key bindings.

2006-11-07  Shawn Betts  <sabetts@vcn.bc.ca>

	* Release 0.37

2006-10-19  Shawn Betts  <sabetts@vcn.bc.ca>

	* utils.js: let regular keys slip through for input tags of type "input"

2006-10-03  Shawn Betts  <sabetts@vcn.bc.ca>

	* conkeror.js: set the first browser's link and image visibility

	* conkeror.xml: set the link and image numbers state based on
	default_show_numbered_links and default_show_numbered_images

	* numberedlinks.js: add default_show_numbered_links and default_show_numbered_images

2006-09-26  Shawn Betts  <sabetts@vcn.bc.ca>

	* Release 0.34
	
2006-09-26  Shawn Betts  <sabetts@vcn.bc.ca>

	* numberedlinks.js (global_numbered_links_mode): new global variable

	* conkeror.js (delayedStartup): init web jumps before rc file

	* commands.js: turn on everything for the new window in the firefox
	command.

2006-06-11  Shawn Betts  <sabetts@vcn.bc.ca>

	* Release 0.33
	
2006-05-31  Shawn Betts  <sabetts@vcn.bc.ca>

	* commands.js add jsconsole command. add firefox command.

2006-05-30  Shawn Betts  <sabetts@vcn.bc.ca>

	* commands.js: add cmd_deleteWordForward

	* utils.js (readKeyPress): add type "search"

2006-05-29  Shawn Betts  <sabetts@vcn.bc.ca>

	* Release 0.32

2006-05-29  Shawn Betts  <sabetts@vcn.bc.ca>

	* commands.js: web jumps work with or without an argument

2006-04-29  Shawn Betts  <sabetts@vcn.bc.ca>

	* Release 0.31
	
2006-04-29  Shawn Betts  <sabetts@vcn.bc.ca>

	* conkeror.xml : fix blank screen bug

	* commands.js (renumber_links): mark the document as unmarked
	before recreating the links.

	* numberedlinks.js: tag documents as numbered and only number
	untagged documents.

2006-04-21  Shawn Betts  <sabetts@vcn.bc.ca>

	* commands.js (add_command): fix typo

2006-04-15  Shawn Betts  <sabetts@vcn.bc.ca>

	* utils.js: correct the gReadFromMinibufferCallAbortBack typo.

2006-04-06  Shawn Betts  <sabetts@vcn.bc.ca>

	* bm.js: return bookmarks from subfolders.

2006-04-04  Shawn Betts  <sabetts@vcn.bc.ca>

	* Release 0.30
	
	* conkeror.js (delayedStartup): turn off accesskeys.

	* bindings.js (initViKmaps): remove split-window related keybindings
	(initKmaps): likewise

	* conkeror.xml (killBrowser): focus the new browser before
	deleting the old one.

	* numberedlinks.js (setNumberedLinksVisibility): take a content argument. callers updated
	(nl_document_observer): dont call setNumberedLinksVisibility

2006-04-02  Shawn Betts  <sabetts@vcn.bc.ca>

	* Release 0.29
	
	* numberedlinks.js (createNL): properly decide when to hide the
	link and when not to.

	* Release 0.28

2006-04-02  Shawn Betts  <sabetts@vcn.bc.ca>

	* utils.js (readInput): set the collapsed field for widgets.
	(miniBufferKeyPress): eat the event when its RET
	(miniBufferCompleteKeyPress): likewise
	(closeInput): set the collapsed field for widgets. only take a
	restoreFocus arg. all callers updated.

	* conkeror.xul: use collapsed not hidden

2006-03-28  Shawn Betts  <sabetts@vcn.bc.ca>

	* Release 0.27
	
2006-03-28  Shawn Betts  <sabetts@vcn.bc.ca>

	* conkeror.xml: load about:blank by default in new browsers. dont
	use a timeout to load the url.

	* conkeror.js: handle -remote urls
	
2006-03-28  Shawn Betts  <sabetts@vcn.bc.ca>

	* Release 0.26
	
2006-03-28  Shawn Betts  <sabetts@vcn.bc.ca>
	
	* commands.js: fix unfocus so it actually works.
	
	* conkeror.xul: make screenX screenY width height sizemode persistent

	* conkeror.xml: use a deck instead of a box. fix focus typo
	bug. remove all split related functions.
	(getBrowserIndex): new method

	* conkeror.js (Startup): give window a default size if it doesn't
	have one already. fix loaduri bug.

	* commands.js: remove commands switch-to-buffer-other-window,
	split-flip delete-other-windows, delete-window, other-window and
	split-window. remove corresponding js functions

2006-03-26  Shawn Betts  <sabetts@vcn.bc.ca>

	* Release 0.24
	
2006-03-26  Shawn Betts  <sabetts@vcn.bc.ca>

	* numberedlinks.js: asynchronously number links. asynchronously update floating links.

	* conkeror.js (delayedStartup): add frame_focus_observer to page-end-load
	(top_content): new function
	(nsBrowserStatusHandler): properly handle when frames are loaded

	* commands.js (init_commands): 2 new commands renumber-links and extensions
	(customize): use preferences.xul
	(extensions): new function
	(renumber_links): likewise

	* bindings.js (initViKmaps): new binding to textarea_kmap yank-to-clipboard.

2006-03-25  Shawn Betts  <sabetts@vcn.bc.ca>

	* Release 0.23
	
2006-03-25  Shawn Betts  <sabetts@vcn.bc.ca>

	* utils.js (readinput): fix the field focus bug.
	
	* commands.js (init_commands): new command print-buffer
	(print_buffer): new function
	(add_command): replace existing commands.

2006-03-17  Shawn Betts  <sabetts@vcn.bc.ca>

	* Release 0.22

2006-03-17  Shawn Betts  <sabetts@vcn.bc.ca>

	* utils.js (http): delay focusing the input box by setting a 0s
	timeout.

	* conkeror.js (Startup): do not set the docshell.

	* commands.js: use app-startup to quit conkeror.

